{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/user/agenko-nextjs/src/components/UtmLinkUpdater.tsx"],"sourcesContent":["// src/components/UtmLinkUpdater.tsx\n'use client';\n\nimport { useEffect } from 'react';\nimport { usePathname, useSearchParams } from 'next/navigation';\n\nexport function UtmLinkUpdater() {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n  useEffect(() => {\n    // Get the current query string (e.g., \"utm_source=google&utm_medium=cpc\")\n    const utmParamQueryString = searchParams.toString();\n\n    // Only run the logic if there are any query parameters\n    if (utmParamQueryString) {\n      const allLinks = document.getElementsByTagName('a');\n\n      for (let i = 0; i < allLinks.length; i++) {\n        const link = allLinks[i];\n        const originalHref = link.getAttribute('href');\n\n        // Only modify links that have an href and don't already include these params\n        if (originalHref && !originalHref.includes(utmParamQueryString)) {\n          try {\n            const url = new URL(link.href);\n            // Append each parameter from the current URL to the link's URL\n            searchParams.forEach((value, key) => {\n              url.searchParams.set(key, value);\n            });\n            link.href = url.toString();\n          } catch (error) {\n            // This handles relative links like \"/about\" gracefully\n            if (originalHref.includes('?')) {\n              link.href = `${originalHref}&${utmParamQueryString}`;\n            } else {\n              link.href = `${originalHref}?${utmParamQueryString}`;\n            }\n          }\n        }\n      }\n    }\n    // This effect should re-run on every page navigation\n  }, [pathname, searchParams]);\n\n  return null; // This component does not render anything\n}"],"names":[],"mappings":"AAAA,oCAAoC;;;;;AAGpC;AACA;AAHA;;;AAKO,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,eAAe,IAAA,qJAAe;IAEpC,IAAA,kNAAS,EAAC;QACR,0EAA0E;QAC1E,MAAM,sBAAsB,aAAa,QAAQ;QAEjD,uDAAuD;QACvD,IAAI,qBAAqB;YACvB,MAAM,WAAW,SAAS,oBAAoB,CAAC;YAE/C,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,IAAK;gBACxC,MAAM,OAAO,QAAQ,CAAC,EAAE;gBACxB,MAAM,eAAe,KAAK,YAAY,CAAC;gBAEvC,6EAA6E;gBAC7E,IAAI,gBAAgB,CAAC,aAAa,QAAQ,CAAC,sBAAsB;oBAC/D,IAAI;wBACF,MAAM,MAAM,IAAI,IAAI,KAAK,IAAI;wBAC7B,+DAA+D;wBAC/D,aAAa,OAAO,CAAC,CAAC,OAAO;4BAC3B,IAAI,YAAY,CAAC,GAAG,CAAC,KAAK;wBAC5B;wBACA,KAAK,IAAI,GAAG,IAAI,QAAQ;oBAC1B,EAAE,OAAO,OAAO;wBACd,uDAAuD;wBACvD,IAAI,aAAa,QAAQ,CAAC,MAAM;4BAC9B,KAAK,IAAI,GAAG,GAAG,aAAa,CAAC,EAAE,qBAAqB;wBACtD,OAAO;4BACL,KAAK,IAAI,GAAG,GAAG,aAAa,CAAC,EAAE,qBAAqB;wBACtD;oBACF;gBACF;YACF;QACF;IACA,qDAAqD;IACvD,GAAG;QAAC;QAAU;KAAa;IAE3B,OAAO,MAAM,0CAA0C;AACzD","debugId":null}}]
}